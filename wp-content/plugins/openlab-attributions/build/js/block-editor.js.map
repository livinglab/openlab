{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/js/block-editor.js","webpack:///./dist/js/blocks/image-edit.js","webpack:///./dist/js/components/modal.js","webpack:///./dist/js/formats/icon.js","webpack:///./dist/js/formats/index.js","webpack:///./dist/js/utils/format-attribution.js","webpack:///./dist/js/utils/format.js","webpack:///./dist/js/utils/validate-license.js","webpack:///./dist/scss/editor.scss?a301","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"hooks\"]}","webpack:///external {\"this\":[\"wp\",\"richText\"]}"],"names":["licenses","Object","values","window","attrLicenses","imageAttributes","imageCitations","type","source","meta","addFilter","settings","name","attributes","assign","registerFields","createHigherOrderComponent","BlockEdit","props","id","setAttributes","citations","JSON","parse","citation","author_name","author_uri","license","handleChange","event","target","value","stringify","map","option","index","label","AttributionModal","bind","initalState","title","titleUrl","author","authorUrl","publisher","publisherUrl","annotation","project","projectUrl","year","derivative","state","setState","isOpen","onClose","onSubmit","selected","getSelection","toString","preview","__html","formatAttribution","e","preventDefault","authorName","Component","formatIcon","addShortcode","data","onChange","attribution","shortcode","valueToInsert","create","html","startIndex","isCollapsed","start","end","newValue","insert","Edit","useState","setOpen","isActive","registerFormatType","tagName","className","edit","format","validateLicense","url","trim","options","filter","pop"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;;;AAGA;AACA;AACA;AACA;AACA;AAEA,IAAMA,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAeC,MAAM,CAACC,YAAtB,CAAjB;AAEA,IAAMC,eAAe,GAAG;AACvBC,gBAAc,EAAE;AACfC,QAAI,EAAE,QADS;AAEfC,UAAM,EAAE,MAFO;AAGfC,QAAI,EAAE;AAHS;AADO,CAAxB;AAQAC,kEAAS,CAAE,0BAAF,EAA8B,wBAA9B,EAAwD,UAAUC,QAAV,EAAoBC,IAApB,EAA2B;AAC3F,MAAK,iBAAiBA,IAAtB,EAA6B;AAC5B,WAAOD,QAAP;AACA;;AAEDA,UAAQ,CAACE,UAAT,GAAsBZ,MAAM,CAACa,MAAP,CAAeH,QAAQ,CAACE,UAAxB,EAAoCR,eAApC,CAAtB;AACA,SAAOM,QAAP;AACA,CAPQ,CAAT;AASA;;;;AAGA,IAAMI,cAAc,GAAGC,qFAA0B,CAAE,UAAEC,SAAF,EAAiB;AACnE,SAAO,UAAEC,KAAF,EAAa;AACnB,QAAK,iBAAiBA,KAAK,CAACN,IAAvB,IAA+B,CAAEM,KAAK,CAACL,UAAN,CAAiBM,EAAvD,EAA4D;AAC3D,aACC,oBAAC,SAAD,EAAgBD,KAAhB,CADD;AAGA;;AALkB,QAOXL,UAPW,GAOmBK,KAPnB,CAOXL,UAPW;AAAA,QAOCO,aAPD,GAOmBF,KAPnB,CAOCE,aAPD;AAAA,QAQXD,EARW,GAQYN,UARZ,CAQXM,EARW;AAAA,QAQPb,cARO,GAQYO,UARZ,CAQPP,cARO;AAUnB,QAAMe,SAAS,GAAGf,cAAc,GAAGgB,IAAI,CAACC,KAAL,CAAYjB,cAAZ,CAAH,GAAkC,EAAlE;AAEA,QAAIkB,QAAQ,GAAG;AACdC,iBAAW,EAAE,EADC;AAEdC,gBAAU,EAAE,EAFE;AAGdC,aAAO,EAAE;AAHK,KAAf;;AAMA,QAAK,OAAON,SAAS,CAAEF,EAAF,CAAhB,KAA2B,WAAhC,EAA8C;AAC7CK,cAAQ,GAAGH,SAAS,CAAEF,EAAF,CAApB;AACA;;AAED,QAAMS,YAAY,GAAG,SAAfA,YAAe,CAAEC,KAAF,EAAa;AACjC,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,UAAMnB,IAAI,GAAGkB,MAAM,CAAClB,IAApB;AAEAY,cAAQ,CAAEZ,IAAF,CAAR,GAAmBmB,KAAnB;AAEAX,mBAAa,CAAE;AACdd,sBAAc,EAAEgB,IAAI,CAACU,SAAL,mBAAqBX,SAArB,sBAAkCF,EAAlC,EAAwCK,QAAxC;AADF,OAAF,CAAb;AAGA,KAVD;;AAYA,WACC,oBAAC,2DAAD,QACC,oBAAC,yEAAD,QACC,oBAAC,+DAAD;AAAW,WAAK,EAAC;AAAjB,OACC;AAAK,eAAS,EAAC;AAAf,OACC;AAAK,eAAS,EAAC;AAAf,OACC;AAAO,eAAS,EAAC,gCAAjB;AAAkD,aAAO,EAAC;AAA1D,gBADD,EAEC;AACC,UAAI,EAAC,MADN;AAEC,UAAI,EAAC,aAFN;AAGC,eAAS,EAAC,gCAHX;AAIC,kBAAY,EAAGA,QAAQ,CAACC,WAJzB;AAKC,cAAQ,EAAGG;AALZ,MAFD,CADD,EAWC;AAAK,eAAS,EAAC;AAAf,OACC;AAAO,eAAS,EAAC,gCAAjB;AAAkD,aAAO,EAAC;AAA1D,oBADD,EAEC;AACC,UAAI,EAAC,MADN;AAEC,UAAI,EAAC,YAFN;AAGC,eAAS,EAAC,gCAHX;AAIC,kBAAY,EAAGJ,QAAQ,CAACE,UAJzB;AAKC,cAAQ,EAAGE;AALZ,MAFD,CAXD,EAqBC;AAAK,eAAS,EAAC;AAAf,OACC;AAAO,eAAS,EAAC,gCAAjB;AAAkD,aAAO,EAAC;AAA1D,iBADD,EAEC;AACC,QAAE,EAAC,SADJ;AAEC,UAAI,EAAC,SAFN;AAGC,eAAS,EAAC,kCAHX;AAIC,kBAAY,EAAGJ,QAAQ,CAACG,OAJzB;AAKC,YAAM,EAAGC;AALV,OAOC;AAAQ,SAAG,EAAC,GAAZ;AAAgB,WAAK,EAAC;AAAtB,mBAPD,EAQG5B,QAAQ,CAACiC,GAAT,CAAc,UAAEC,MAAF,EAAUC,KAAV;AAAA,aACf;AACC,WAAG,YAAOD,MAAM,CAACE,KAAd,cAAyBD,KAAzB,CADJ;AAEC,aAAK,EAAGD,MAAM,CAACE;AAFhB,SAIGF,MAAM,CAACE,KAJV,CADe;AAAA,KAAd,CARH,CAFD,CArBD,CADD,CADD,CADD,EA+CC,oBAAC,SAAD,EAAgBlB,KAAhB,CA/CD,CADD;AAmDA,GArFD;AAsFA,CAvFgD,EAuF9C,gBAvF8C,CAAjD;AAyFAR,kEAAS,CAAE,kBAAF,EAAsB,wBAAtB,EAAgDK,cAAhD,CAAT,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHA;;;AAGA;AACA;AAKA;;;;AAGA;AAEA,IAAMf,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAeC,MAAM,CAACC,YAAtB,CAAjB;;IAEqBiC,gB;;;;;AACpB,4BAAanB,KAAb,EAAqB;AAAA;;AAAA;;AACpB,0FAAOA,KAAP;AAEA,UAAKU,YAAL,GAAoB,MAAKA,YAAL,CAAkBU,IAAlB,+BAApB;AAEA,UAAKC,WAAL,GAAmB;AAClBC,WAAK,EAAE,EADW;AAElBC,cAAQ,EAAE,EAFQ;AAGlBC,YAAM,EAAE,EAHU;AAIlBC,eAAS,EAAE,EAJO;AAKlBC,eAAS,EAAE,EALO;AAMlBC,kBAAY,EAAE,EANI;AAOlBC,gBAAU,EAAE,EAPM;AAQlBC,aAAO,EAAE,EARS;AASlBC,gBAAU,EAAE,EATM;AAUlBrB,aAAO,EAAE,EAVS;AAWlBsB,UAAI,EAAE,EAXY;AAYlBC,gBAAU,EAAE;AAZM,KAAnB;AAcA,UAAKC,KAAL,GAAa,MAAKZ,WAAlB;AAnBoB;AAoBpB;;;;iCAEaV,K,EAAQ;AACrB,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAGD,MAAM,CAACC,KAArB;AACA,UAAMnB,IAAI,GAAGkB,MAAM,CAAClB,IAApB;AAEA,WAAKwC,QAAL,qBACGxC,IADH,EACWmB,KADX;AAGA;;;6BAEQ;AAAA;;AACR,UAAK,CAAE,KAAKb,KAAL,CAAWmC,MAAlB,EAA2B;AAC1B,eAAO,IAAP;AACA;;AAHO,wBAK6B,KAAKnC,KALlC;AAAA,UAKAsB,KALA,eAKAA,KALA;AAAA,UAKOc,OALP,eAKOA,OALP;AAAA,UAKgBC,SALhB,eAKgBA,QALhB;AAOR,UAAMC,QAAQ,GAAGrD,MAAM,CAACsD,YAAP,GAAsBC,QAAtB,EAAjB;AACA,UAAMC,OAAO,GAAG;AACfC,cAAM,EAAEC,yEAAiB,mBAAO,KAAKV,KAAZ,GAAqBnD,QAArB;AADV,OAAhB;AAIA,aACC,oBAAC,2DAAD;AACC,wBAAgB,EAAG,KADpB;AAEC,iCAAyB,EAAG,KAF7B;AAGC,aAAK,EAAGwC,KAHT;AAIC,sBAAc,EAAGc,OAJlB;AAKC,iBAAS,EAAC;AALX,SAOC;AACC,gBAAQ,EAAG,kBAAEQ,CAAF,EAAS;AACnBA,WAAC,CAACC,cAAF;;AACAR,mBAAQ,mBAAO,MAAI,CAACJ,KAAZ,EAAR;;AACA,gBAAI,CAACC,QAAL,CAAe,MAAI,CAACb,WAApB;AACA;AALF,SAOC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,iBADD,EAEC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,OAHJ;AAIC,YAAI,EAAC,OAJN;AAKC,aAAK,EAAG,KAAKY,KAAL,CAAWX,KALpB;AAMC,gBAAQ,EAAG,KAAKZ;AANjB,QAFD,EASC;AAAO,eAAO,EAAC;AAAf,eATD,EAUC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,UAHJ;AAIC,YAAI,EAAC,UAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWV,QALpB;AAMC,gBAAQ,EAAG,KAAKb;AANjB,QAVD,CADD,EAmBC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,uBADD,EAEC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,QAHJ;AAIC,YAAI,EAAC,QAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWa,UALpB;AAMC,gBAAQ,EAAG,KAAKpC;AANjB,QAFD,EASC;AAAO,eAAO,EAAC;AAAf,eATD,EAUC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,WAHJ;AAIC,YAAI,EAAC,WAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWR,SALpB;AAMC,gBAAQ,EAAG,KAAKf;AANjB,QAVD,CAnBD,CADD,EAuCC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,oBADD,EAEC;AACC,iBAAS,EAAC,cADX;AAEC,UAAE,EAAC,cAFJ;AAGC,YAAI,EAAC,GAHN;AAIC,aAAK,EAAG4B,QAJT;AAKC,gBAAQ;AALT,QAFD,CAvCD,CAPD,EAwDC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,oCADD,EAEC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,WAHJ;AAIC,YAAI,EAAC,WAJN;AAKC,aAAK,EAAG,KAAKL,KAAL,CAAWP,SALpB;AAMC,gBAAQ,EAAG,KAAKhB;AANjB,QAFD,EASC;AAAO,eAAO,EAAC;AAAf,eATD,EAUC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,cAHJ;AAIC,YAAI,EAAC,cAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWN,YALpB;AAMC,gBAAQ,EAAG,KAAKjB;AANjB,QAVD,CADD,EAmBC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,wBAAuC,0DAAvC,CADD,EAEC;AACC,iBAAS,EAAC,cADX;AAEC,UAAE,EAAC,YAFJ;AAGC,YAAI,EAAC,YAHN;AAIC,YAAI,EAAC,GAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWL,UALpB;AAMC,gBAAQ,EAAG,KAAKlB;AANjB,QAFD,CAnBD,CAxDD,EAsFC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,mBADD,EAEC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,SAHJ;AAIC,YAAI,EAAC,SAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWJ,OALpB;AAMC,gBAAQ,EAAG,KAAKnB;AANjB,QAFD,EASC;AAAO,eAAO,EAAC;AAAf,eATD,EAUC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,YAHJ;AAIC,YAAI,EAAC,YAJN;AAKC,aAAK,EAAG,KAAKuB,KAAL,CAAWH,UALpB;AAMC,gBAAQ,EAAG,KAAKpB;AANjB,QAVD,CADD,EAmBC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,mBADD,EAEC;AACC,UAAE,EAAC,SADJ;AAEC,iBAAS,EAAC,cAFX;AAGC,YAAI,EAAC,SAHN;AAIC,cAAM,EAAG,KAAKA;AAJf,SAMC;AAAQ,WAAG,EAAC,GAAZ;AAAgB,aAAK,EAAC;AAAtB,qBAND,EAOG5B,QAAQ,CAACiC,GAAT,CAAc,UAAEC,MAAF,EAAUC,KAAV;AAAA,eACf;AACC,aAAG,YAAOD,MAAM,CAACE,KAAd,cAAyBD,KAAzB,CADJ;AAEC,eAAK,EAAGD,MAAM,CAACE;AAFhB,WAIGF,MAAM,CAACE,KAJV,CADe;AAAA,OAAd,CAPH,CAFD,CAnBD,CAtFD,EA6HC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,0BADD,EAEC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,MAHJ;AAIC,YAAI,EAAC,MAJN;AAKC,aAAK,EAAG,KAAKe,KAAL,CAAWF,IALpB;AAMC,gBAAQ,EAAG,KAAKrB;AANjB,QAFD,CADD,EAWC;AAAK,iBAAS,EAAC;AAAf,SACC;AAAO,eAAO,EAAC;AAAf,2BADD,EAEC;AACC,YAAI,EAAC,MADN;AAEC,iBAAS,EAAC,cAFX;AAGC,UAAE,EAAC,YAHJ;AAIC,YAAI,EAAC,YAJN;AAKC,mBAAW,EAAC,sBALb;AAMC,aAAK,EAAG,KAAKuB,KAAL,CAAWD,UANpB;AAOC,gBAAQ,EAAG,KAAKtB;AAPjB,QAFD,CAXD,CA7HD,EAqJC;AAAM,iBAAS,EAAC;AAAhB,+BArJD,EAsJC;AAAK,iBAAS,EAAC,2BAAf;AAA2C,+BAAuB,EAAG+B;AAArE,QAtJD,EAuJC;AAAK,iBAAS,EAAC;AAAf,SACC,oBAAC,4DAAD;AAAQ,qBAAa,MAArB;AAAsB,cAAM,MAA5B;AAA6B,eAAO,EAAGL;AAAvC,kBADD,EAEC,oBAAC,4DAAD;AAAQ,eAAO,MAAf;AAAgB,iBAAS,MAAzB;AAA0B,YAAI,EAAC;AAA/B,2BAFD,CAvJD,CAPD,CADD;AAsKA;;;;EAnN4CW,4D;;;;;;;;;;;;;;AChB9C;AAAA;AAAO,IAAMC,UAAU,GACtB;AACC,iBAAY,MADb;AAEC,WAAS,EAAC,OAFX;AAGC,MAAI,EAAC,KAHN;AAIC,OAAK,EAAC,4BAJP;AAKC,OAAK,EAAC,IALP;AAMC,SAAO,EAAC,aANT;AAOC,QAAM,EAAC;AAPR,GASC;AACC,GAAC,EAAC,qfADH;AAEC,MAAI,EAAC;AAFN,EATD,CADM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAP;;;AAGA;AACA;AACA;AAOA;;;;AAGA;AACA;AACA;AAEA,IAAMlE,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAeC,MAAM,CAACC,YAAtB,CAAjB;AACA,IAAMQ,IAAI,GAAG,iBAAb;AACA,IAAM4B,KAAK,GAAG,aAAd;;AAEA,IAAM2B,YAAY,GAAG,SAAfA,YAAe,CAAEC,IAAF,EAAQlD,KAAR,EAAmB;AAAA,MAC/Ba,KAD+B,GACXb,KADW,CAC/Ba,KAD+B;AAAA,MACxBsC,QADwB,GACXnD,KADW,CACxBmD,QADwB;AAGvC,MAAMC,WAAW,GAAGT,yEAAiB,CAAEO,IAAF,EAAQpE,QAAR,CAArC;AACA,MAAMuE,SAAS,kBAAYD,WAAZ,WAAf,CAJuC,CAMvC;;AACA,MAAME,aAAa,GAAGC,mEAAM,CAAE;AAAEC,QAAI,EAAEH;AAAR,GAAF,CAA5B;AACA,MAAMI,UAAU,GAAGC,wEAAW,CAAE7C,KAAF,CAAX,GAAuBA,KAAK,CAAC8C,KAA7B,GAAqC9C,KAAK,CAAC+C,GAA9D;AACA,MAAMC,QAAQ,GAAGC,mEAAM,CAAEjD,KAAF,EAASyC,aAAT,EAAwBG,UAAxB,CAAvB;AAEAN,UAAQ,CAAEU,QAAF,CAAR;AACA,CAZD;;AAcA,IAAME,IAAI,GAAG,SAAPA,IAAO,CAAE/D,KAAF,EAAa;AAAA,kBACGgE,mEAAQ,CAAE,KAAF,CADX;AAAA;AAAA,MACjB7B,MADiB;AAAA,MACT8B,OADS;;AAAA,MAGjBC,QAHiB,GAGJlE,KAHI,CAGjBkE,QAHiB;AAKzB,SACC,oBAAC,2DAAD,QACC,oBAAC,6EAAD;AACC,QAAI,EAAGlB,gDADR;AAEC,SAAK,EAAG1B,KAFT;AAGC,WAAO,EAAG;AAAA,aAAM2C,OAAO,CAAE,IAAF,CAAb;AAAA,KAHX;AAIC,YAAQ,EAAGC;AAJZ,IADD,EAOC,oBAAC,yDAAD;AACC,UAAM,EAAG/B,MADV;AAEC,SAAK,EAAG,iBAFT;AAGC,WAAO,EAAG;AAAA,aAAM8B,OAAO,CAAE,KAAF,CAAb;AAAA,KAHX;AAIC,YAAQ,EAAG,kBAAEf,IAAF,EAAY;AACtBe,aAAO,CAAE,KAAF,CAAP;AACAhB,kBAAY,CAAEC,IAAF,EAAQlD,KAAR,CAAZ;AACA;AAPF,IAPD,CADD;AAmBA,CAxBD,C,CA0BA;;;AACAmE,+EAAkB,CAAEzE,IAAF,EAAQ;AACzB4B,OAAK,EAALA,KADyB;AAEzB8C,SAAO,EAAE,KAFgB;AAGzBC,WAAS,EAAE,aAHc;AAIzBC,MAAI,EAAEP;AAJmB,CAAR,CAAlB,C;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;;;AAGA;AACA;AAEA;;;;;;;;;AAQA,IAAMpB,iBAAiB,GAAG,SAApBA,iBAAoB,CAAEO,IAAF,EAAQpE,QAAR,EAAsB;AAC/C,MAAKoE,IAAI,CAAC5B,KAAV,EAAkB;AACjB4B,QAAI,CAAC5B,KAAL,GAAaiD,uDAAM,CAAErB,IAAI,CAAC5B,KAAP,EAAc4B,IAAI,CAAC3B,QAAnB,CAAnB;AACA;;AAED,MAAK2B,IAAI,CAAC1B,MAAV,EAAmB;AAClB0B,QAAI,CAAC1B,MAAL,GAAc+C,uDAAM,CAAErB,IAAI,CAAC1B,MAAP,EAAe0B,IAAI,CAACzB,SAApB,CAApB;AACA;;AAED,MAAKyB,IAAI,CAACxB,SAAV,EAAsB;AACrBwB,QAAI,CAACxB,SAAL,GAAiB6C,uDAAM,CAAErB,IAAI,CAACxB,SAAP,EAAkBwB,IAAI,CAACvB,YAAvB,CAAvB;AACA;;AAED,MAAKuB,IAAI,CAACrB,OAAV,EAAoB;AACnBqB,QAAI,CAACrB,OAAL,GAAe0C,uDAAM,CAAErB,IAAI,CAACrB,OAAP,EAAgBqB,IAAI,CAACpB,UAArB,CAArB;AACA,GAf8C,CAiB/C;;;AACA,MAAMrB,OAAO,GAAG+D,iEAAe,CAAE1F,QAAF,EAAYoE,IAAI,CAACzC,OAAjB,CAA/B;;AAEA,MAAKA,OAAL,EAAe;AACdyC,QAAI,CAACzC,OAAL,GAAe8D,uDAAM,CAAE9D,OAAO,CAACS,KAAV,EAAiBT,OAAO,CAACgE,GAAzB,CAArB;AACA;;AAED,MAAMrB,WAAW,qBACZF,IAAI,CAAC5B,KADO,qBAEZ4B,IAAI,CAAC1B,MAAL,gBAAqB0B,IAAI,CAAC1B,MAA1B,SAAuC,EAF3B,qBAGZ0B,IAAI,CAACnB,IAAL,aAAgBmB,IAAI,CAACnB,IAArB,SAAgC,EAHpB,qBAIZmB,IAAI,CAACxB,SAAL,aAAqBwB,IAAI,CAACxB,SAA1B,SAA0C,EAJ9B,qBAKZwB,IAAI,CAACzC,OAAL,+BAAqCyC,IAAI,CAACzC,OAA1C,SAAwD,EAL5C,qBAMZyC,IAAI,CAAClB,UAAL,0BAAmCkB,IAAI,CAAClB,UAAxC,IAAwD,EAN5C,SAAjB;AASA,SAAOoB,WAAW,CAACsB,IAAZ,EAAP;AACA,CAlCD;;AAoCe/B,gFAAf,E;;;;;;;;;;;;AClDA;AAAA;;;;;;;;AAQA,IAAM4B,MAAM,GAAG,SAATA,MAAS,CAAE7E,IAAF,EAAQ+E,GAAR,EAAiB;AAC/B,MAAK,CAAEA,GAAP,EAAa;AACZ,WAAO/E,IAAP;AACA;;AAED,6BAAoB+E,GAApB,gBAA8B/E,IAA9B;AACA,CAND;;AAQe6E,qEAAf,E;;;;;;;;;;;;AChBA;AAAA;;;;;;;;AAQA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAEG,OAAF,EAAW9D,KAAX,EAAsB;AAC7C,MAAMJ,OAAO,GAAGkE,OAAO,CACrBC,MADc,CACN,UAAE5D,MAAF;AAAA,WAAcA,MAAM,CAACE,KAAP,KAAiBL,KAA/B;AAAA,GADM,EAEdgE,GAFc,EAAhB;AAIA,SAAOpE,OAAP;AACA,CAND;;AAQe+D,8EAAf,E;;;;;;;;;;;AChBA,yC;;;;;;;;;;;;;;;;;;;;;;;;ACAA,aAAa,4CAA4C,EAAE,I;;;;;;;;;;;ACA3D,aAAa,2CAA2C,EAAE,I;;;;;;;;;;;ACA1D,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,wCAAwC,EAAE,I;;;;;;;;;;;ACAvD,aAAa,sCAAsC,EAAE,I;;;;;;;;;;;ACArD,aAAa,yCAAyC,EAAE,I","file":"/js/block-editor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * Internal dependencies\n */\nimport './formats/index.js';\nimport './blocks/image-edit.js';\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\nimport { Fragment } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\n\nconst licenses = Object.values( window.attrLicenses );\n\nconst imageAttributes = {\n\timageCitations: {\n\t\ttype: 'string',\n\t\tsource: 'meta',\n\t\tmeta: 'citations',\n\t},\n};\n\naddFilter( 'blocks.registerBlockType', 'ol-attributions/images', function( settings, name ) {\n\tif ( 'core/image' !== name ) {\n\t\treturn settings;\n\t}\n\n\tsettings.attributes = Object.assign( settings.attributes, imageAttributes );\n\treturn settings;\n} );\n\n/**\n * Filter the InspectorControls for a image block type.\n */\nconst registerFields = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\tif ( 'core/image' !== props.name || ! props.attributes.id ) {\n\t\t\treturn (\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t);\n\t\t}\n\n\t\tconst { attributes, setAttributes } = props;\n\t\tconst { id, imageCitations } = attributes;\n\n\t\tconst citations = imageCitations ? JSON.parse( imageCitations ) : {};\n\n\t\tlet citation = {\n\t\t\tauthor_name: '',\n\t\t\tauthor_uri: '',\n\t\t\tlicense: '',\n\t\t};\n\n\t\tif ( typeof citations[ id ] !== 'undefined' ) {\n\t\t\tcitation = citations[ id ];\n\t\t}\n\n\t\tconst handleChange = ( event ) => {\n\t\t\tconst target = event.target;\n\t\t\tconst value = target.value;\n\t\t\tconst name = target.name;\n\n\t\t\tcitation[ name ] = value;\n\n\t\t\tsetAttributes( {\n\t\t\t\timageCitations: JSON.stringify( { ...citations, [ id ]: citation } ),\n\t\t\t} );\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title=\"Image Attributions\">\n\t\t\t\t\t\t<div className=\"components-base-control\">\n\t\t\t\t\t\t\t<div className=\"components-base-control__field\">\n\t\t\t\t\t\t\t\t<label className=\"components-base-control__label\" htmlFor=\"author_name\">Author</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"author_name\"\n\t\t\t\t\t\t\t\t\tclassName=\"components-text-control__input\"\n\t\t\t\t\t\t\t\t\tdefaultValue={ citation.author_name }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"components-base-control__field\">\n\t\t\t\t\t\t\t\t<label className=\"components-base-control__label\" htmlFor=\"author_uri\">Author URI</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"author_uri\"\n\t\t\t\t\t\t\t\t\tclassName=\"components-text-control__input\"\n\t\t\t\t\t\t\t\t\tdefaultValue={ citation.author_uri }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"components-base-control__field\">\n\t\t\t\t\t\t\t\t<label className=\"components-base-control__label\" htmlFor=\"license\">License</label>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tid=\"license\"\n\t\t\t\t\t\t\t\t\tname=\"license\"\n\t\t\t\t\t\t\t\t\tclassName=\"components-select-control__input\"\n\t\t\t\t\t\t\t\t\tdefaultValue={ citation.license }\n\t\t\t\t\t\t\t\t\tonBlur={ handleChange }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"\">Choose...</option>\n\t\t\t\t\t\t\t\t\t{ licenses.map( ( option, index ) =>\n\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\tkey={ `${ option.label }-${ index }` }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ option.label }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t</Fragment>\n\t\t);\n\t};\n}, 'registerFields' );\n\naddFilter( 'editor.BlockEdit', 'ol-attributions/images', registerFields );\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport {\n\tButton,\n\tModal,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport formatAttribution from '../utils/format-attribution';\n\nconst licenses = Object.values( window.attrLicenses );\n\nexport default class AttributionModal extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.handleChange = this.handleChange.bind( this );\n\n\t\tthis.initalState = {\n\t\t\ttitle: '',\n\t\t\ttitleUrl: '',\n\t\t\tauthor: '',\n\t\t\tauthorUrl: '',\n\t\t\tpublisher: '',\n\t\t\tpublisherUrl: '',\n\t\t\tannotation: '',\n\t\t\tproject: '',\n\t\t\tprojectUrl: '',\n\t\t\tlicense: '',\n\t\t\tyear: '',\n\t\t\tderivative: '',\n\t\t};\n\t\tthis.state = this.initalState;\n\t}\n\n\thandleChange( event ) {\n\t\tconst target = event.target;\n\t\tconst value = target.value;\n\t\tconst name = target.name;\n\n\t\tthis.setState( {\n\t\t\t[ name ]: value,\n\t\t} );\n\t}\n\n\trender() {\n\t\tif ( ! this.props.isOpen ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { title, onClose, onSubmit } = this.props;\n\n\t\tconst selected = window.getSelection().toString();\n\t\tconst preview = {\n\t\t\t__html: formatAttribution( { ...this.state }, licenses ),\n\t\t};\n\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tshouldCloseOnEsc={ false }\n\t\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\t\ttitle={ title }\n\t\t\t\tonRequestClose={ onClose }\n\t\t\t\tclassName=\"ol-attributions-modal\"\n\t\t\t>\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={ ( e ) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tonSubmit( { ...this.state } );\n\t\t\t\t\t\tthis.setState( this.initalState );\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<div className=\"form-row\">\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"title\">Title</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tvalue={ this.state.title }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t\t\t<label htmlFor=\"titleUrl\">URL</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"titleUrl\"\n\t\t\t\t\t\t\t\t\tname=\"titleUrl\"\n\t\t\t\t\t\t\t\t\tvalue={ this.state.titleUrl }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"author\">Author Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"author\"\n\t\t\t\t\t\t\t\t\tname=\"author\"\n\t\t\t\t\t\t\t\t\tvalue={ this.state.authorName }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t\t\t<label htmlFor=\"authorUrl\">URL</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"authorUrl\"\n\t\t\t\t\t\t\t\t\tname=\"authorUrl\"\n\t\t\t\t\t\t\t\t\tvalue={ this.state.authorUrl }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"selectedText\">Selected</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"selectedText\"\n\t\t\t\t\t\t\t\trows=\"9\"\n\t\t\t\t\t\t\t\tvalue={ selected }\n\t\t\t\t\t\t\t\tdisabled />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-row\">\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"publisher\">Organization / Publisher</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"publisher\"\n\t\t\t\t\t\t\t\tname=\"publisher\"\n\t\t\t\t\t\t\t\tvalue={ this.state.publisher }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t\t<label htmlFor=\"publisherUrl\">URL</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"publisherUrl\"\n\t\t\t\t\t\t\t\tname=\"publisherUrl\"\n\t\t\t\t\t\t\t\tvalue={ this.state.publisherUrl }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"annotation\">Annotation <em>(Added to bibliography)</em></label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"annotation\"\n\t\t\t\t\t\t\t\tname=\"annotation\"\n\t\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\t\tvalue={ this.state.annotation }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-row\">\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"project\">Project</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"project\"\n\t\t\t\t\t\t\t\tname=\"project\"\n\t\t\t\t\t\t\t\tvalue={ this.state.project }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t\t<label htmlFor=\"projectUrl\">URL</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"projectUrl\"\n\t\t\t\t\t\t\t\tname=\"projectUrl\"\n\t\t\t\t\t\t\t\tvalue={ this.state.projectUrl }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"license\">License</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"license\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tname=\"license\"\n\t\t\t\t\t\t\t\tonBlur={ this.handleChange }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option key=\"0\" value=\"\">Choose...</option>\n\t\t\t\t\t\t\t\t{ licenses.map( ( option, index ) =>\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tkey={ `${ option.label }-${ index }` }\n\t\t\t\t\t\t\t\t\t\tvalue={ option.label }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-row\">\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"year\">Date Published</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"year\"\n\t\t\t\t\t\t\t\tname=\"year\"\n\t\t\t\t\t\t\t\tvalue={ this.state.year }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group col\">\n\t\t\t\t\t\t\t<label htmlFor=\"derivative\">Derivative Work</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"derivative\"\n\t\t\t\t\t\t\t\tname=\"derivative\"\n\t\t\t\t\t\t\t\tplaceholder=\"URL of original work\"\n\t\t\t\t\t\t\t\tvalue={ this.state.derivative }\n\t\t\t\t\t\t\t\tonChange={ this.handleChange } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span className=\"attribution-preview__title\">Attribution Preview</span>\n\t\t\t\t\t<div className=\"attribution-preview__body\" dangerouslySetInnerHTML={ preview } />\n\t\t\t\t\t<div className=\"component-modal__footer\">\n\t\t\t\t\t\t<Button isDestructive isLink onClick={ onClose }>Cancel</Button>\n\t\t\t\t\t\t<Button isLarge isPrimary type=\"submit\">Add Attribution</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n","export const formatIcon = (\n\t<svg\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t\trole=\"img\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth=\"24\"\n\t\tviewBox=\"0 0 496 512\"\n\t\theight=\"24\"\n\t>\n\t\t<path\n\t\t\td=\"M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3 3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7 3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256 0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8 103.2 0 202.8-81.1 202.8-202.8.1-113.8-90.2-203.3-202.8-203.3z\"\n\t\t\tfill=\"currentColor\"\n\t\t/>\n\t</svg>\n);\n","/**\n * WordPress dependencies\n */\nimport { RichTextToolbarButton } from '@wordpress/block-editor';\nimport { Fragment, useState } from '@wordpress/element';\nimport {\n\tcreate,\n\tinsert,\n\tisCollapsed,\n\tregisterFormatType,\n} from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport { formatIcon } from './icon';\nimport formatAttribution from '../utils/format-attribution';\nimport Modal from '../components/modal';\n\nconst licenses = Object.values( window.attrLicenses );\nconst name = 'ol/attributions';\nconst title = 'Attribution';\n\nconst addShortcode = ( data, props ) => {\n\tconst { value, onChange } = props;\n\n\tconst attribution = formatAttribution( data, licenses );\n\tconst shortcode = `[ref]${ attribution }[/ref]`;\n\n\t// Create RichText value from shortcode.\n\tconst valueToInsert = create( { html: shortcode } );\n\tconst startIndex = isCollapsed( value ) ? value.start : value.end;\n\tconst newValue = insert( value, valueToInsert, startIndex );\n\n\tonChange( newValue );\n};\n\nconst Edit = ( props ) => {\n\tconst [ isOpen, setOpen ] = useState( false );\n\n\tconst { isActive } = props;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<RichTextToolbarButton\n\t\t\t\ticon={ formatIcon }\n\t\t\t\ttitle={ title }\n\t\t\t\tonClick={ () => setOpen( true ) }\n\t\t\t\tisActive={ isActive }\n\t\t\t/>\n\t\t\t<Modal\n\t\t\t\tisOpen={ isOpen }\n\t\t\t\ttitle={ 'Add Attribution' }\n\t\t\t\tonClose={ () => setOpen( false ) }\n\t\t\t\tonSubmit={ ( data ) => {\n\t\t\t\t\tsetOpen( false );\n\t\t\t\t\taddShortcode( data, props );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n\n// Register fake format.\nregisterFormatType( name, {\n\ttitle,\n\ttagName: 'sup',\n\tclassName: 'attr-anchor',\n\tedit: Edit,\n} );\n","/**\n * Internal dependencies\n */\nimport format from './format';\nimport validateLicense from './validate-license';\n\n/**\n * Format attribution for shortcode.\n *\n * @param {Object} data    Form input data.\n * @param {Array} licenses List of licenses.\n *\n * @return {string} Formatted attribution.\n */\nconst formatAttribution = ( data, licenses ) => {\n\tif ( data.title ) {\n\t\tdata.title = format( data.title, data.titleUrl );\n\t}\n\n\tif ( data.author ) {\n\t\tdata.author = format( data.author, data.authorUrl );\n\t}\n\n\tif ( data.publisher ) {\n\t\tdata.publisher = format( data.publisher, data.publisherUrl );\n\t}\n\n\tif ( data.project ) {\n\t\tdata.project = format( data.project, data.projectUrl );\n\t}\n\n\t// Get our license object from the list.\n\tconst license = validateLicense( licenses, data.license );\n\n\tif ( license ) {\n\t\tdata.license = format( license.label, license.url );\n\t}\n\n\tconst attribution = `\n\t\t\t${ data.title }\n\t\t\t${ data.author ? `by ${ data.author }.` : '' }\n\t\t\t${ data.year ? `${ data.year }.` : '' }\n\t\t\t${ data.publisher ? `${ data.publisher }.` : '' }\n\t\t\t${ data.license ? `is licensed under ${ data.license }.` : '' }\n\t\t\t${ data.derivative ? `Receive from ${ data.derivative }` : '' }\n\t`;\n\n\treturn attribution.trim();\n};\n\nexport default formatAttribution;\n","/**\n * Returns attribution name or HTML link.\n *\n * @param {string} name Attribution name.\n * @param {string} url Attribution URL.\n *\n * @return {string} Formated attribution.\n */\nconst format = ( name, url ) => {\n\tif ( ! url ) {\n\t\treturn name;\n\t}\n\n\treturn `<a href=\"${ url }\">${ name }</a>`;\n};\n\nexport default format;\n","/**\n * Validate selected license against pre-defined ones.\n *\n * @param {Array} options List of licenses.\n * @param {string} value  Selected license.\n *\n * @return {Object} License object.\n */\nconst validateLicense = ( options, value ) => {\n\tconst license = options\n\t\t.filter( ( option ) => option.label === value )\n\t\t.pop();\n\n\treturn license;\n};\n\nexport default validateLicense;\n","// removed by extract-text-webpack-plugin","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"hooks\"]; }());","(function() { module.exports = this[\"wp\"][\"richText\"]; }());"],"sourceRoot":""}